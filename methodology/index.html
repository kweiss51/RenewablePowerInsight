<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methodology - Coming Soon | Renewable Power Insight</title>
    <meta name="description" content="Research methodology and analytical frameworks coming soon to Renewable Power Insight.">
    
    <!-- External Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="../style.css">

<!-- RenewablePowerInsight Analytics -->
<script>
(function() {
    // Analytics configuration
    const ANALYTICS_CONFIG = {
        apiEndpoint: '/api/analytics', // Update this to your analytics endpoint
        trackPageViews: true,
        trackSessions: true,
        trackEvents: true,
        trackConversions: true
    };
    
    // Session tracking
    let sessionId = sessionStorage.getItem('rpi_session_id');
    if (!sessionId) {
        sessionId = 'session_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();
        sessionStorage.setItem('rpi_session_id', sessionId);
        sessionStorage.setItem('rpi_session_start', new Date().toISOString());
        sessionStorage.setItem('rpi_is_new_user', !localStorage.getItem('rpi_returning_user') ? 'true' : 'false');
        localStorage.setItem('rpi_returning_user', 'true');
    }
    
    // User identification
    let userId = localStorage.getItem('rpi_user_id');
    if (!userId) {
        userId = 'user_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();
        localStorage.setItem('rpi_user_id', userId);
    }
    
    // Device detection
    function getDeviceType() {
        const userAgent = navigator.userAgent;
        if (/tablet|ipad|playbook|silk/i.test(userAgent)) return 'tablet';
        if (/mobile|iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(userAgent)) return 'mobile';
        return 'desktop';
    }
    
    // Traffic source detection
    function getTrafficSource() {
        const referrer = document.referrer;
        const utm_source = new URLSearchParams(window.location.search).get('utm_source');
        
        if (utm_source) return utm_source;
        if (!referrer) return 'direct';
        
        const hostname = new URL(referrer).hostname;
        if (hostname.includes('google')) return 'google';
        if (hostname.includes('facebook')) return 'facebook';
        if (hostname.includes('twitter')) return 'twitter';
        if (hostname.includes('linkedin')) return 'linkedin';
        if (hostname.includes('youtube')) return 'youtube';
        
        return 'referral';
    }
    
    // Page tracking
    function trackPageView() {
        if (!ANALYTICS_CONFIG.trackPageViews) return;
        
        const pageData = {
            event_type: 'page_view',
            session_id: sessionId,
            user_id: userId,
            page_url: window.location.href,
            page_title: document.title,
            referrer: document.referrer,
            user_agent: navigator.userAgent,
            device_type: getDeviceType(),
            traffic_source: getTrafficSource(),
            timestamp: new Date().toISOString()
        };
        
        // Send to analytics endpoint
        sendAnalytics(pageData);
    }
    
    // Session tracking
    function trackSession() {
        if (!ANALYTICS_CONFIG.trackSessions) return;
        
        const sessionData = {
            event_type: 'session_start',
            session_id: sessionId,
            user_id: userId,
            is_new_user: sessionStorage.getItem('rpi_is_new_user') === 'true',
            device_type: getDeviceType(),
            traffic_source: getTrafficSource(),
            landing_page: window.location.href,
            start_time: sessionStorage.getItem('rpi_session_start'),
            user_agent: navigator.userAgent
        };
        
        sendAnalytics(sessionData);
    }
    
    // Event tracking
    function trackEvent(eventType, properties = {}) {
        if (!ANALYTICS_CONFIG.trackEvents) return;
        
        const eventData = {
            event_type: 'custom_event',
            session_id: sessionId,
            user_id: userId,
            event_name: eventType,
            properties: properties,
            page_url: window.location.href,
            timestamp: new Date().toISOString()
        };
        
        sendAnalytics(eventData);
    }
    
    // Conversion tracking
    function trackConversion(conversionType, value = 0, currency = 'USD') {
        if (!ANALYTICS_CONFIG.trackConversions) return;
        
        const conversionData = {
            event_type: 'conversion',
            session_id: sessionId,
            user_id: userId,
            conversion_type: conversionType,
            value: value,
            currency: currency,
            page_url: window.location.href,
            timestamp: new Date().toISOString()
        };
        
        sendAnalytics(conversionData);
    }
    
    // Send data to analytics endpoint
    function sendAnalytics(data) {
        // For now, log to console (replace with actual API call)
        console.log('RPI Analytics:', data);
        
        // Uncomment when you have an analytics endpoint:
        /*
        fetch(ANALYTICS_CONFIG.apiEndpoint, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        }).catch(error => {
            console.warn('Analytics tracking failed:', error);
        });
        */
    }
    
    // Initialize tracking when page loads
    function initAnalytics() {
        // Track page view
        trackPageView();
        
        // Track session if it's a new session
        if (!sessionStorage.getItem('rpi_session_tracked')) {
            trackSession();
            sessionStorage.setItem('rpi_session_tracked', 'true');
        }
        
        // Track time on page
        let pageLoadTime = Date.now();
        let lastActivityTime = Date.now();
        
        // Update last activity on user interaction
        ['click', 'scroll', 'keypress', 'mousemove'].forEach(event => {
            document.addEventListener(event, () => {
                lastActivityTime = Date.now();
            }, { passive: true });
        });
        
        // Track page exit
        window.addEventListener('beforeunload', () => {
            const timeOnPage = (lastActivityTime - pageLoadTime) / 1000;
            
            const exitData = {
                event_type: 'page_exit',
                session_id: sessionId,
                user_id: userId,
                page_url: window.location.href,
                time_on_page: timeOnPage,
                timestamp: new Date().toISOString()
            };
            
            // Use sendBeacon for reliable exit tracking
            if (navigator.sendBeacon && ANALYTICS_CONFIG.apiEndpoint !== '/api/analytics') {
                navigator.sendBeacon(
                    ANALYTICS_CONFIG.apiEndpoint,
                    JSON.stringify(exitData)
                );
            }
        });
        
        // Auto-track common events
        document.addEventListener('click', (e) => {
            const target = e.target;
            
            // Track link clicks
            if (target.tagName === 'A') {
                trackEvent('link_click', {
                    link_text: target.textContent,
                    link_url: target.href,
                    link_target: target.target
                });
            }
            
            // Track button clicks
            if (target.tagName === 'BUTTON' || target.type === 'submit') {
                trackEvent('button_click', {
                    button_text: target.textContent,
                    button_type: target.type
                });
            }
        });
        
        // Track scroll depth
        let maxScroll = 0;
        let scrollTracked = {};
        
        window.addEventListener('scroll', () => {
            const scrollPercent = Math.round(
                (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100
            );
            
            if (scrollPercent > maxScroll) {
                maxScroll = scrollPercent;
                
                // Track scroll milestones
                [25, 50, 75, 90].forEach(milestone => {
                    if (scrollPercent >= milestone && !scrollTracked[milestone]) {
                        scrollTracked[milestone] = true;
                        trackEvent('scroll_depth', {
                            depth_percent: milestone
                        });
                    }
                });
            }
        });
    }
    
    // Expose tracking functions globally
    window.rpiAnalytics = {
        trackEvent,
        trackConversion,
        getSessionId: () => sessionId,
        getUserId: () => userId
    };
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initAnalytics);
    } else {
        initAnalytics();
    }
})();
</script>
<!-- End RenewablePowerInsight Analytics -->

</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <div class="header-brand">
                    <a href="../index.html" class="site-title">Renewable Power Insight</a>
                    <span class="site-tagline">Advanced Energy Research</span>
                </div>
                <nav class="main-nav" aria-label="Main navigation">
                    <a href="../index.html" class="nav-link">Home</a>
                    <a href="../posts/solar/index.html" class="nav-link">Solar</a>
                    <a href="../posts/wind/index.html" class="nav-link">Wind</a>
                    <a href="../posts/battery/index.html" class="nav-link">Storage</a>
                    <a href="../posts/grid-tech/index.html" class="nav-link">Smart Grid</a>
                    <a href="../posts/policy/index.html" class="nav-link">Policy</a>
                    <a href="../blog/index.html" class="nav-link">All Posts</a>
                </nav>
                <button class="mobile-menu-button" aria-label="Open mobile menu" aria-expanded="false">
                    ☰
                </button>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="coming-soon-page">
                <div class="coming-soon-content">
                    <h1 class="coming-soon-title">Methodology</h1>
                    <h2 class="coming-soon-subtitle">Coming Soon</h2>
                    <p class="coming-soon-description">
                        We're documenting our comprehensive research methodology and analytical frameworks 
                        that ensure the accuracy, reliability, and transparency of our renewable energy 
                        research. This section will detail our data collection, analysis methods, 
                        and quality assurance processes.
                    </p>
                    <div class="coming-soon-features">
                        <h3>What to Expect:</h3>
                        <ul>
                            <li>Data collection and validation procedures</li>
                            <li>Analytical frameworks and models</li>
                            <li>Quality assurance protocols</li>
                            <li>Source verification standards</li>
                            <li>Peer review processes</li>
                            <li>Transparency and reproducibility guidelines</li>
                        </ul>
                    </div>
                    <div class="coming-soon-cta">
                        <p>Stay updated on our latest developments:</p>
                        <a href="../newsletter/index.html" class="cta-button">Subscribe to Newsletter</a>
                        <a href="../index.html" class="secondary-button">Return to Homepage</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Research Areas</h3>
                    <ul class="footer-links">
                        <li><a href="../posts/solar/index.html">Solar Technology</a></li>
                        <li><a href="../posts/wind/index.html">Wind Energy</a></li>
                        <li><a href="../posts/battery/index.html">Energy Storage</a></li>
                        <li><a href="../posts/grid-tech/index.html">Smart Grid</a></li>
                        <li><a href="../posts/policy/index.html">Policy Analysis</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="../blog/index.html">All Articles</a></li>
                        <li><a href="../research/index.html">Research Reports</a></li>
                        <li><a href="../data/index.html">Market Data</a></li>
                        <li><a href="../insights/index.html">Industry Insights</a></li>
                        <li><a href="../methodology/index.html">Methodology</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Company</h3>
                    <ul class="footer-links">
                        <li><a href="../about/index.html">About Us</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <ul class="footer-links">
                        <li><a href="../newsletter/index.html">Newsletter</a></li>
                        <li><a href="../rss/index.html">RSS Feed</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Renewable Power Insight. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <style>
        .coming-soon-page {
            min-height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4rem 0;
        }
        
        .coming-soon-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .coming-soon-title {
            font-size: 3rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 1rem;
        }
        
        .coming-soon-subtitle {
            font-size: 1.5rem;
            color: var(--color-text-secondary);
            margin-bottom: 2rem;
        }
        
        .coming-soon-description {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            color: var(--color-text);
        }
        
        .coming-soon-features {
            text-align: left;
            background: var(--color-background-secondary);
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        
        .coming-soon-features h3 {
            margin-bottom: 1rem;
            color: var(--color-primary);
        }
        
        .coming-soon-features ul {
            list-style: none;
            padding: 0;
        }
        
        .coming-soon-features li {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--color-border);
        }
        
        .coming-soon-features li:before {
            content: "→";
            color: var(--color-primary);
            font-weight: bold;
            margin-right: 0.5rem;
        }
        
        .coming-soon-cta {
            margin-top: 2rem;
        }
        
        .cta-button {
            display: inline-block;
            background: var(--color-primary);
            color: white;
            padding: 1rem 2rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            margin: 0.5rem;
            transition: background-color 0.3s;
        }
        
        .cta-button:hover {
            background: var(--color-primary-hover);
        }
        
        .secondary-button {
            display: inline-block;
            background: transparent;
            color: var(--color-primary);
            padding: 1rem 2rem;
            border: 2px solid var(--color-primary);
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            margin: 0.5rem;
            transition: all 0.3s;
        }
        
        .secondary-button:hover {
            background: var(--color-primary);
            color: white;
        }
    </style>
</body>
</html>
